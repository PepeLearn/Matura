CREATE DATABASE shop;
use shop;
CREATE TABLE user(
    id int PRIMARY KEY NOT NULL AUTO_INCREMENT,
    username VARCHAR(25) NOT NULL,
    password VARCHAR(255) NOT NULL,
    admin boolean DEFAULT 0,
    timeCreated datetime NOT NULL DEFAULT NOW(),
    phoneNumber int(9) ZEROFILL
    );
CREATE TABLE product (
    id int PRIMARY KEY NOT NULL AUTO_INCREMENT,
    productName VARCHAR(200) NOT NULL,
    productPrice double NOT NULL,
    productCategory VARCHAR(200) NOT NULL,
    productSuperCategory VARCHAR(200) NOT NULL,
    timeCreated datetime NOT NULL DEFAULT NOW(),
    desc varchar(1000) DEFAULT "Sample description"
    );
CREATE TABLE productVariant(
    id int PRIMARY KEY NOT NULL AUTO_INCREMENT,
    color varchar(30),
    stock smallint[4],
    size varchar(3),  
    productID NOT NULL,
    FOREIGN KEY (productID) REFERENCES product(id) 
)
CREATE TABLE tags (
    id int PRIMARY KEY NOT NULL AUTO_INCREMENT,
    TagName varchar(200) NOT NULL); 
CREATE TABLE tagtoproduct (
    productID int,
    tagID int,
    FOREIGN KEY (ProductID) REFERENCES products(id),
    FOREIGN KEY (TagID) REFERENCES  tags(id)
);
CREATE TABLE order (
    id int PRIMARY KEY NOT NULL AUTO_INCREMENT,
    timePurchased NOT NULL DEFAULT NOW(),
    productID int NOT NULL,
    address varchar(100),
    userID int,
    amount tinyint, 
    FOREIGN KEY (productID) REFERENCES product(id)
);
INSERT user (username, password,admin) VALUES ("admin", "admin", true);
INSERT user (username,password) VALUES ("nejc","1234");
INSERT INTO product (productName,productPrice,productCategory) VALUES ("Blue Shirt",19.99,"Shirts");
INSERT INTO product (productName,productPrice,productCategory) VALUES ("Adidas Pants",15.99,"Pants");
INSERT INTO product (productName,productPrice,productCategory) VALUES ("Warm Coat",89.99,"Coats");
INSERT INTO tags (tagName) VALUES ("winter");
INSERT INTO tags (tagName) VALUES ("adidas");
INSERT INTO tags (tagName) VALUES ("shirt");
INSERT INTO tags (tagName) VALUES ("warm");
INSERT INTO tags (tagName) VALUES ("coat");
INSERT INTO tags (tagName) VALUES ("pants");
INSERT INTO tags (tagName) VALUES ("blue");
INSERT INTO tagtoproduct VALUES (1,7);
INSERT INTO tagtoproduct VALUES (1,3);
INSERT INTO tagtoproduct VALUES (2,6);
INSERT INTO tagtoproduct VALUES (2,2);
INSERT INTO tagtoproduct VALUES (3,1);
INSERT INTO tagtoproduct VALUES (3,4);
INSERT INTO tagtoproduct VALUES (3,5);

